<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<link rel="stylesheet" href="css/style.css" />
</head>
<body>
	<div id="cont">
		<div class="box" id="box">
			<dl>
				<dt>您已选择：</dt>
				<dd>
					<ul id="list">
						<li></li>
						<li></li>
						<li></li>
						<li></li>
						<li></li>
						<li></li>
					</ul>
				</dd>
			</dl>		
		</div>
		<!-- 线路玩法 -->
		<div class="cols">
			<div class="right">
				<dl>
					<dt class="bn">线路玩法:</dt>
					<dd>
						<ul>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>丽江+大理(175)</span></li>
							<li><span>丽江一地(104)</span></li>
							<li><span>丽江+香格里拉(94)</span></li>
							<li><span>版纳一地(89)</span></li>
							<li><span>昆明+大理+丽江+香格里拉(79)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>丽江+大理(175)</span></li>
							<li><span>丽江一地(104)</span></li>
							<li><span>丽江+香格里拉(94)</span></li>
							<li><span>版纳一地(89)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>丽江+大理(175)</span></li>
							<li><span>丽江一地(104)</span></li>
							<li><span>丽江+香格里拉(94)</span></li>
							<li><span>版纳一地(89)</span></li>
							<li><span>昆明+大理+丽江(224)</span></li>
							<li><span>丽江+大理(175)</span></li>
							<li><span>丽江一地(104)</span></li>
							<li><span>丽江+香格里拉(94)</span></li>
							<li><span>版纳一地(89)</span></li>
						</ul>
					</dd>
				</dl>
				<div class="clear"></div>
			</div>
			<p>
				<a href="javascript:;"  class="btn1">更多▼</a>
				<a href="javascript:;"  class="btn2">多选+</a>
			</p>
			<div class="clear"></div>
		</div>
		<!-- 游玩天数 -->
		<div class="cols">
			<div class="right">
				<dl>
					<dt class="bn">游玩天数:</dt>
					<dd>
						<ul>
							<li><span>1天(123)</span></li>
							<li><span>2天(123)</span></li>
							<li><span>3天(123)</span></li>
							<li><span>4天(123)</span></li>
							<li><span>5天(123)</span></li>
							<li><span>6天(123)</span></li>
							<li><span>7天(123)</span></li>
							<li><span>8天(123)</span></li>
							<li><span>9天(123)</span></li>
							<li><span>10天(123)</span></li>
							<li><span>11天(123)</span></li>
							<li><span>12天(123)</span></li>
							<li><span>13天(123)</span></li>
							<li><span>14天(123)</span></li>
							<li><span>15天(123)</span></li>
							<li><span>16天(123)</span></li>
							<li><span>17天(123)</span></li>
							<li><span>18天(123)</span></li>
							<li><span>19天(123)</span></li>
							<li><span>20天(123)</span></li>
							<li><span>30天(123)</span></li>
						</ul>
					</dd>
				</dl>
				<div class="clear"></div>
			</div>
			<p>
				<a href="javascript:;" class="btn1">更多▼</a>
			</p>
			<div class="clear"></div>
		</div>
		<!--出发日期-->
		<div class="cols">
			<div class="right">
				<dl>
					<dt class="bn">出发日期:</dt>
					<dd>
						<span>09月(980)</span>
						<span>10月(1384)</span>
						<span>09月(980)</span>
						<span>10月(1384)</span>
						<span>09月(980)</span>
						<span>10月(1384)</span>
						<span>10月(1384)</span>
						<span>09月(980)</span>
						<span>10月(1384)</span>
						<span>09月(980)</span>
						<span>10月(1384)</span>
						<span>09月(980)</span>
						<span>10月(1384)</span>
						<span>10月(1384)</span>
					</dd
				</dl>
				<div class="clear"></div>	
			</div>
			<p class="btns">
				<a href="javascript:;" class="btn1">更多▼</a>
				<a href="javascript:;" class="btn2">多选+</a>
			</p>
			<div class="clear"></div>
		</div>
		<!--交通工具-->
		<div class="cols">
			<div class="right">
				<dl>
					<dt class="bn">交通工具:</dt>
					<dd>
						<span>飞机往返(1177)</span>
						<span>机票可选(1507)</span>
						<span>飞机(6)</span>
						<span>飞机+汽车(6)</span>
						<span>汽车往返(1)</span>
					</dd>
					
				</dl>
				<div class="clear"></div>
			</div>
			<p class="btns">
				<a href="javascript:;" class="btn2">多选+</a>
			</p>
			<div class="clear"></div>
		</div>
		<!-- 出港城市 -->
		<div class="cols">
			<div class="right">
				<dl>
					<dt class="bn">出港城市:</dt>
					<dd>
						<span>北京(1177)</span>	
					</dd>
				</dl>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		</div>
		<!--价格预算-->
		<div class="cols">
			<div class="right">
				<dl>
					<dt class="bn">价格预算:</dt>
					<dd>
						<span>1000元以下/人(45)</span>
						<span>1001元-2000元/人(180)</span>
						<span>2001元-3500元/人(644)</span>
						<span>3501元-5000元/人(365)</span>
						<span>5000元/人(161)</span>						
					</dd>
				</dl>
				<div class="clear"></div>
			</div>
			<div class="clear">
				
			</div>	
		</div>
	</div>
	<script src="../../jQueryVersion/jquery-2.1.1.js"></script>
	<script>
		$(function(){

			$(".cols").on("click",".btn1",function(){
				if ($(this).text()=="更多▼"){
					$(this).parent().prev().height("auto");
					$(this).parent().parent().css("background","#ccc");
					$(this).text("收起▲")
				}else{
					$(this).parent().prev().height("40px");
					$(this).parent().parent().css("background","none");
					$(this).text("更多▼")
				}
			})

			$(".cols").on("click",".btn2",function(){
				var paren=$(this).parent("p");
				var prev=paren.prev();
				prev.height("auto");
				paren.hide();
				prev.find("span").prepend($("<input type='checkbox' />"));
				prev.append($("<div class='btns'><button class='qd'>确定</button><button class='qx'>取消</button></div>"))
				$(this).parent().empty();
				
				//点击确定
				var arr=[];
				$(".qd").on("click",function(){
					var newli=$("#list li").eq(0);
					$(":checked").each(function(){
						var str=$(this).next().text();	
						if($.inArray(str,arr)==-1){
							arr.push(str);
							var spant="<span>"+str+"<em></em></span>";
							//newli.append(spant);
							newli.html(spant);
						}
					})
				})
				//点击取消
				$(".qx").on("click",function(){
					prev.height("40px");
					prev.find(".btns").remove();
					prev.find("input").remove();
					paren.show();
					paren.append($("<a href='javascript:;' class='btn1'>更多▼</a><a href='javascript:;' class='btn2'>多选+</a>"))
				})
			})

			$(".right").on("click","span",function(){
				if($(this).parent().is("li")){
					$(this).addClass("bg").parent().siblings().children("span").removeClass("bg");
				}else{
					$(this).addClass("bg").siblings().removeClass("bg")
				}	
			})

			//添加背景样式，选定时间，车次，等细节，重点在于二选一
			$("#cont").on("click","span",function(){
				//二选一
				var ind=$(this).parents(".cols").index();
				var chuan=$("#list li").eq(ind);
				var creat="<span>"+$(this).text()+"<em></em></span>";
					chuan.html(creat)
			})

		})
	</script>
</body>
</html>
